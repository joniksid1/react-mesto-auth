{"version":3,"sources":["images/header-logo.svg","images/close-icon.svg","images/sucsess.svg","images/fail.svg","components/header.jsx","contexts/CurrentUserContext.js","components/card.jsx","contexts/CardsContext.js","components/main.jsx","components/footer.jsx","components/image-popup.jsx","utils/constants.js","utils/Api.js","components/popup-with-form.jsx","components/edit-profile-popup.jsx","components/edit-avatar-popup.jsx","components/add-place-popup.jsx","components/delete-popup.jsx","components/info-tool-tip.jsx","components/protected-route.jsx","utils/FormValidator.js","components/register.jsx","components/login.jsx","utils/authApi.js","components/app.jsx","utils/token.js","reportWebVitals.js","index.js"],"names":["module","exports","Header","_ref","email","onSignOut","_useState","useState","_useState2","_slicedToArray","isMenuOpened","setIsMenuOpened","toggleMenu","React","createElement","Fragment","className","Link","to","onClick","src","logo","alt","Routes","Route","path","element","closeIcon","aria-label","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onDeletePopup","onSelectDeleteCard","onImageOpen","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","concat","link","name","type","length","CardsContext","Main","onEditProfile","onAddPlace","onEditAvatar","_React$useContext","about","avatar","cards","slice","reverse","map","onCardDelete","key","Footer","ImagePopup","onClose","onOverlayClick","validationConfig","formSelector","inputSelector","submitButtonSelector","inputErrorSelector","inputErrorFrameClass","registerValidationConfig","formValidators","api","Api","url","headers","_classCallCheck","this","_url","_headers","_createClass","value","options","fetch","then","response","ok","json","errorData","errorMessage","message","errorWithStatus","Error","status","_getRequest","method","data","body","JSON","stringify","_ref2","id","authorization","PopupWithForm","title","button","children","isOpen","onSubmit","onLoading","noValidate","EditProfilePopup","onUpdateUser","_React$useState","_React$useState2","nameValue","setNameValue","_React$useState3","_React$useState4","descriptionValue","setDescriptionValue","useEffect","e","preventDefault","minLength","maxLength","required","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarLink","useRef","current","placeholder","ref","AddPlacePopup","onAddCard","placeNameValue","setPlaceNameValue","linkValue","setLinkValue","DeletePopup","onDeleteCard","InfoToolTip","isSucsessed","error","sucsess","fail","ProtectedRoute","Component","props","_objectWithoutProperties","_excluded","loggedIn","Navigate","replace","FormValidator","form","_form","_inputSelector","_submitButtonSelector","_inputErrorSelector","_inputErrorFrameClass","_buttonElement","querySelector","_inputList","Array","from","querySelectorAll","input","validity","valid","_hideInputError","_showInputError","textContent","validationMessage","classList","add","remove","isActive","removeAttribute","setAttribute","evt","_this","addEventListener","setButtonState","_preventDefault","forEach","_checkInputValidity","checkValidity","_this2","_setEventListeners","enableValidation","document","formElement","validator","formName","getAttribute","startValidate","createValidators","Register","onRegister","emailValue","setEmailValue","passwordValue","setPasswordValue","Login","onLogin","BASE_URL","getRequest","_regeneratorRuntime","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","arg","call","h","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","resolve","__await","callInvokeWithMethodAndArg","done","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","pop","prev","charAt","stop","rval","handle","complete","finish","catch","delegateYield","App","navigate","useNavigate","navigateRef","isEditProfilePopupOpen","setEditProfilePopup","_useState3","_useState4","isAddPlacePopupOpen","setAddPlacePopup","_useState5","_useState6","isEditAvatarPopupOpen","setEditAvatarPopup","_useState7","_useState8","isDeletePopupOpen","setDeletePopup","_useState9","_useState10","isImagePopupOpen","setImagePopupOpen","_useState11","_useState12","isToolTipOpen","setIsToolTipOpen","_useState13","_useState14","setIsSucsessed","_useState15","_useState16","isloggedIn","setIsLoggedIn","_useState17","_useState18","selectedCard","setSelectedCard","_useState19","_useState20","selectedDeleteCard","setSelectedDeleteCard","_useState21","_useState22","setCurrentUser","_useState23","_useState24","setCards","_useState25","_useState26","isLoading","setIsLoading","_useState27","_useState28","userEmail","setUserEmail","_useState29","_useState30","setError","getUserInfo","console","log","getInitialCards","auth","useCallback","_asyncToGenerator","_callee","jwt","res","_context","token","t0","_x","apply","arguments","localStorage","getItem","handleOverlayClick","currentTarget","closeAllPopups","resetValidationAll","resetValidation","showLoader","removeLoader","handleEscKey","event","window","removeEventListener","Provider","removeItem","setlike","newCard","state","password","authApi","setItem","setUserInfo","finally","createCard","_toConsumableArray","deleteCard","filter","changeAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","StrictMode","BrowserRouter","basename"],"mappings":"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","file":"static/js/main.90d9bd29.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/header-logo.4e5bdbab.svg\";","module.exports = __webpack_public_path__ + \"static/media/close-icon.cb0f2bbf.svg\";","module.exports = __webpack_public_path__ + \"static/media/sucsess.e05e43ff.svg\";","module.exports = __webpack_public_path__ + \"static/media/fail.2d9b7bec.svg\";","import React, { useState } from 'react';\nimport logo from '../images/header-logo.svg';\nimport { Link, Routes, Route } from 'react-router-dom';\nimport closeIcon from '../images/close-icon.svg';\n\nfunction Header({ email, onSignOut }) {\n  const [isMenuOpened, setIsMenuOpened] = useState(false);\n\n  const toggleMenu = () => {\n    setIsMenuOpened(!isMenuOpened);\n  }\n\n  return (\n    <>\n      {isMenuOpened && (\n        <div className='header__menu'>\n          {email && <p className='header__email header__email_type_mobile'>{email}</p>}\n          <Link to='/sign-in' className='header__link header__link_type_mobile' onClick={() => { onSignOut(); toggleMenu(); }}>\n            Выйти\n          </Link>\n        </div>\n      )}\n      <header className=\"header\">\n        <img\n          src={logo}\n          alt=\"Логотип проекта место, Россия\"\n          className=\"header__logo\"\n        />\n        <div className='header__wrapper'>\n          {email && <p className='header__email header__email_type_desktop'>{email}</p>}\n          <Routes>\n            <Route path='/sign-up' element={<Link to='/sign-in'\n              className='header__link'>\n              Войти\n            </Link>} />\n            <Route path='/sign-in' element={<Link to='/sign-up'\n              className='header__link'>\n              Регистрация\n            </Link>} />\n            <Route path='/' element={\n              <>\n                <div className='header__button' onClick={toggleMenu}>\n                  {isMenuOpened\n                    ?\n                    <img\n                      src={closeIcon}\n                      className=\"header__button header__button_type_close\"\n                      aria-label=\"Закрыть\"\n                      alt=\"Иконка закрытия\"\n                    />\n                    :\n                    '☰'\n                  }\n                </div>\n                <Link to='/sign-in'\n                  className='header__link header__link_type_desktop'\n                  onClick={onSignOut}>\n                  Выйти\n                </Link>\n              </>\n            } />\n          </Routes>\n        </div>\n      </header>\n    </>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;\n","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Card({ card, onCardClick, onCardLike, onDeletePopup, onSelectDeleteCard, onImageOpen }) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n  const cardLikeButtonClassName = (\n    `elements__heart ${isLiked && 'elements__heart_active'}`\n  );\n\n  function handleClick() {\n    onCardClick(card);\n    onImageOpen();\n  }\n\n  function handleDeleteClick() {\n    onDeletePopup();\n    onSelectDeleteCard(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  return (\n    <li className=\"elements__list-item\">\n      <img alt=\"Изображение места на карточке\" className=\"elements__image\" src={card.link} onClick={handleClick} />\n      {isOwn && <button className=\"elements__delete\" onClick={handleDeleteClick} />}\n      <div className=\"elements__caption\">\n        <h2 className=\"elements__title\">\n          {card.name}\n        </h2>\n        <div className=\"elements__like-wrapper\">\n          <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\" />\n          <p className=\"elements__like-counter\">{card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n};\n\nexport default Card\n","import React from \"react\";\n\nconst CardsContext = React.createContext();\n\nexport default CardsContext;\n","import React from 'react';\nimport Card from './card';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport CardsContext from '../contexts/CardsContext';\n\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onDeletePopup, onSelectDeleteCard, onImageOpen, onCardClick, onCardLike }) {\n\n  const { name, about, avatar } = React.useContext(CurrentUserContext);\n  const cards = React.useContext(CardsContext);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"profile__image-overlay\">\n          <img\n            src={avatar}\n            alt=\"Аватар пользователя\"\n            className=\"profile__image\"\n            onClick={onEditAvatar}\n          />\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__title\" aria-label=\"Имя пользователя\">\n            {name}\n          </h1>\n          <button\n            className=\"profile__edit-button\"\n            type=\"button\"\n            aria-label=\"Редактировать\"\n            onClick={onEditProfile}\n          />\n          <p className=\"profile__caption\">\n            {about}\n          </p>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          type=\"button\"\n          aria-label=\"Добавить\"\n          onClick={onAddPlace}\n        />\n      </section>\n      <section className=\"elements\" aria-label=\"Карточки мест России\">\n        <ul className=\"elements__list\">\n          {cards.slice().reverse().map((card) => (\n            <Card\n              card={card}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onCardDelete={onDeletePopup}\n              onSelectDeleteCard={onSelectDeleteCard}\n              onDeletePopup={onDeletePopup}\n              onImageOpen={onImageOpen}\n              key={card._id}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2023 Кузнецов Михаил</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction ImagePopup({ card, onClose, onOverlayClick}) {\n\n  return (\n    <div className={`popup image-popup ${card.link ? 'popup_opened' : ''}`} onClick={onOverlayClick}>\n      <figure className=\"image-popup__figure\">\n        <button\n          className=\"popup__close-button image-popup__close-button\"\n          type=\"button\"\n          aria-label=\"Закрыть\"\n          onClick={onClose}\n        />\n        <img\n          src={ card.link }\n          alt={ card.name }\n          className=\"image-popup__image\"\n        />\n        <figcaption className=\"image-popup__caption\">\n          { card.name }\n        </figcaption>\n      </figure>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","const apiOptions = {\n  url: 'https://mesto.nomoreparties.co/v1/cohort-76',\n  headers: {\n    authorization: '879fc354-cfc1-42a1-b8be-cb6ca897d345',\n    \"Content-Type\": \"application/json\",\n  },\n};\n\nconst validationConfig = {\n  formSelector: '.popup__form',\n  inputSelector: '.popup__input',\n  submitButtonSelector: '.popup__button',\n  inputErrorSelector: '.popup__input-error_type_',\n  inputErrorFrameClass: 'popup__input_error-frame',\n};\n\nconst registerValidationConfig = {\n  formSelector: '.register__form',\n  inputSelector: '.register__input',\n  submitButtonSelector: '.register__button',\n  inputErrorSelector: '.register__input-error_type_',\n  inputErrorFrameClass: 'register__input_error-frame',\n};\n\nconst formValidators = {}\n\nexport { apiOptions, validationConfig, formValidators, registerValidationConfig };\n","import { apiOptions } from './constants.js';\n\nclass Api {\n  constructor({ url, headers }) {\n    this._url = url;\n    this._headers = headers;\n  }\n\n  _getRequest(url, options) {\n    return fetch(url, options)\n      .then((response) => {\n        if (response.ok) {\n          return response.json();\n        } else {\n          return response.json().then((errorData) => {\n            const errorMessage = errorData.message || 'Request failed';\n            const errorWithStatus = new Error(errorMessage);\n            errorWithStatus.status = response.status;\n            throw errorWithStatus;\n          });\n        }\n      })\n  }\n\n  getUserInfo() {\n    return this._getRequest(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: this._headers\n    })\n  }\n\n  setUserInfo(data) {\n    return this._getRequest(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      }),\n    }\n    )\n  }\n\n  changeAvatar({avatar}) {\n    return this._getRequest(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    }\n    )\n  }\n\n  getInitialCards() {\n    return this._getRequest(`${this._url}/cards`, {\n      method: 'GET',\n      headers: this._headers\n    })\n  }\n\n  createCard(data) {\n    return this._getRequest(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n  }\n\n  deleteCard(id) {\n    return this._getRequest(`${this._url}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n  }\n\n  setlike(id, isLiked) {\n    return isLiked\n      ? this._getRequest(`${this._url}/cards/${id}/likes`, {\n        method: 'PUT',\n        headers: this._headers,\n      })\n      : this._getRequest(`${this._url}/cards/${id}/likes`, {\n        method: 'DELETE',\n        headers: this._headers,\n      });\n  }\n\n}\n\nconst api = new Api(apiOptions);\n\nexport default api;\n","import React from \"react\";\n\nfunction PopupWithForm({ name, title, button, children, isOpen, onClose, onSubmit, onLoading, onOverlayClick }) {\n\n  return (\n    <div className={`popup ${isOpen ? 'popup_opened' : ''}`} onClick={onOverlayClick}>\n      <div className={`popup__container ${name}-popup__container`}>\n        <button\n          className=\"popup__close-button\"\n          type=\"button\"\n          aria-label=\"Закрыть\"\n          onClick={onClose}\n        />\n        <h2 className=\"popup__title\">{title}</h2>\n        <form\n          name={name}\n          className={`popup__form ${name}-popup__form`}\n          onSubmit={onSubmit}\n          noValidate\n        >\n          {children}\n          <button className={`popup__button ${name}-popup__button`} type=\"submit\">\n            {onLoading ? 'Cохранение...' : button || 'Сохранить'}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./popup-with-form\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, onLoading, onOverlayClick }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [nameValue, setNameValue] = React.useState('');\n  const [descriptionValue, setDescriptionValue] = React.useState('');\n\n  const handleNameChange = (e) => {\n    setNameValue(e.target.value);\n  }\n\n  const handleDescriptionChange = (e) => {\n    setDescriptionValue(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateUser({\n      name: nameValue,\n      about: descriptionValue,\n    });\n  }\n\n  React.useEffect(() => {\n    if (currentUser) {\n      setNameValue(currentUser.name);\n      setDescriptionValue(currentUser.about);\n    }\n  }, [currentUser, isOpen]);\n\n  return (\n    <PopupWithForm\n      name='profile'\n      title='Редактировать профиль'\n      button='Сохранить'\n      isOpen={isOpen}\n      onClose={onClose}\n      onLoading={onLoading}\n      onSubmit={handleSubmit}\n      onOverlayClick={onOverlayClick}\n    >\n      <div className=\"popup__form-wrapper\">\n        <input\n          name=\"name\"\n          minLength={2}\n          maxLength={40}\n          type=\"text\"\n          id=\"nameInput\"\n          className=\"popup__input popup__input_type_name\"\n          required=\"\"\n          value={nameValue ?? ''}\n          onChange={handleNameChange}\n        />\n        <span\n          className=\"popup__input-error popup__input-error_type_name\"\n          id=\"nameInput-error\"\n        />\n      </div>\n      <div className=\"popup__form-wrapper\">\n        <input\n          name=\"job\"\n          minLength={2}\n          maxLength={200}\n          type=\"text\"\n          id=\"about\"\n          className=\"popup__input popup__input_type_job\"\n          required=\"\"\n          value={descriptionValue ?? ''}\n          onChange={handleDescriptionChange}\n        />\n        <span\n          className=\"popup__input-error popup__input-error_type_job\"\n          id=\"about-error\"\n        />\n      </div>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./popup-with-form\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, onLoading, onOverlayClick }) {\n\n  const avatarLink = React.useRef()\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarLink.current.value\n    });\n  }\n\n  React.useEffect(() => {\n    if (isOpen) {\n      avatarLink.current.value = '';\n    }\n  }, [isOpen]);\n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      button=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onLoading={onLoading}\n      onSubmit={handleSubmit}\n      onOverlayClick={onOverlayClick}\n    >\n      <div className=\"popup__form-wrapper\">\n        <input\n          name=\"avatar-link\"\n          placeholder=\"Ссылка на картинку\"\n          type=\"url\"\n          id=\"avatar-link\"\n          className=\"popup__input popup__input_type_link\"\n          required=\"\"\n          ref={avatarLink}\n        />\n        <span\n          className=\"popup__input-error popup__input-error_type_avatar-link\"\n          id=\"avatar-link-error\"\n        />\n      </div>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./popup-with-form\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddCard, onLoading, onOverlayClick }) {\n  const [ placeNameValue, setPlaceNameValue ] = React.useState('');\n  const [ linkValue, setLinkValue ] = React.useState('');\n\n  const handlePlaceNameChange = (e) => {\n    setPlaceNameValue(e.target.value);\n  }\n\n  const handleLinkChange = (e) => {\n    setLinkValue(e.target.value);\n  }\n\n  function handleAddPlaceSubmit(e) {\n    e.preventDefault();\n\n    onAddCard({\n      name: placeNameValue,\n      link: linkValue,\n    });\n  }\n\n  React.useEffect(() => {\n    if (isOpen) {\n      setPlaceNameValue('');\n      setLinkValue('');\n    }\n  }, [isOpen]);\n\n  return (\n    <PopupWithForm\n      name=\"add\"\n      title=\"Новое место\"\n      button=\"Создать\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onLoading={onLoading}\n      onSubmit={handleAddPlaceSubmit}\n      onOverlayClick={onOverlayClick}\n    >\n      <div className=\"popup__form-wrapper\">\n        <input\n          name=\"place\"\n          minLength={2}\n          maxLength={30}\n          placeholder=\"Название\"\n          type=\"text\"\n          id=\"name\"\n          className=\"popup__input popup__input_type_place\"\n          required=\"\"\n          value={placeNameValue ?? ''}\n          onChange={handlePlaceNameChange}\n        />\n        <span\n          className=\"popup__input-error popup__input-error_type_place\"\n          id=\"name-error\"\n        />\n      </div>\n      <div className=\"popup__form-wrapper\">\n        <input\n          name=\"link\"\n          placeholder=\"Ссылка на картинку\"\n          type=\"url\"\n          id=\"link\"\n          className=\"popup__input popup__input_type_link\"\n          required=\"\"\n          value={linkValue ?? ''}\n          onChange={handleLinkChange}\n        />\n        <span\n          className=\"popup__input-error popup__input-error_type_link\"\n          id=\"link-error\"\n        />\n      </div>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./popup-with-form\";\n\nfunction DeletePopup({ isOpen, onClose, onDeleteCard, card, onLoading, onOverlayClick }) {\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onDeleteCard(card);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"delete\"\n      title=\"Вы уверены?\"\n      button=\"Да\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onLoading={onLoading}\n      onSubmit={handleSubmit}\n      onOverlayClick={onOverlayClick}\n    />\n  )\n}\n\nexport default DeletePopup;\n","import React from \"react\";\nimport sucsess from '../images/sucsess.svg';\nimport fail from '../images/fail.svg';\n\nfunction InfoToolTip({ isSucsessed, isOpen, onClose, onOverlayClick, error }) {\n\n  return (\n    <div className={`popup ${isOpen ? 'popup_opened' : ''}`} onClick={onOverlayClick}>\n      <div className={`popup__container`}>\n        <button\n          className=\"popup__close-button image-popup__close-button\"\n          type=\"button\"\n          aria-label=\"Закрыть\"\n          onClick={onClose}\n        />\n        {isSucsessed && (<>\n          <img src={sucsess} alt=\"Иконка успешной регистрации\" className='popup__image' />\n          <p className='popup__caption'>Вы успешно{'\\n'}зарегистрировались!</p>\n        </>)}\n        {!isSucsessed && (<>\n          <img src={fail} alt=\"Красный крест\" className='popup__image' />\n          <p className='popup__caption'>\n            {`${error}` || 'Что-то пошло не так! Попробуйте ещё раз.'}\n          </p>\n        </>)}\n      </div>\n    </div>\n  );\n}\n\nexport default InfoToolTip;\n","import React from 'react';\nimport { Navigate } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ element: Component, ...props  }) => {\n  return (\n    props.loggedIn ? <Component {...props} /> : <Navigate to=\"/sign-in\" replace/>\n)}\n\nexport default ProtectedRoute;\n","import { formValidators } from \"./constants\";\n\nclass FormValidator {\n  constructor(validationConfig, form) {\n    this._form = form;\n    this._inputSelector = validationConfig.inputSelector;\n    this._submitButtonSelector = validationConfig.submitButtonSelector;\n    this._inputErrorSelector = validationConfig.inputErrorSelector;\n    this._inputErrorFrameClass = validationConfig.inputErrorFrameClass;\n    this._buttonElement = this._form.querySelector(this._submitButtonSelector);\n    this._inputList = Array.from(this._form.querySelectorAll(this._inputSelector));\n  }\n\n  _checkInputValidity(input) {\n    if (!input.validity.valid) {\n      this._showInputError(input);\n    } else {\n      this._hideInputError(input)\n    }\n  };\n\n  _showInputError(input) {\n    const errorElement = this._form.querySelector(`${this._inputErrorSelector}${input.name}`);\n    errorElement.textContent = input.validationMessage;\n    input.classList.add(this._inputErrorFrameClass);\n  };\n\n  _hideInputError(input) {\n    const errorElement = this._form.querySelector(`${this._inputErrorSelector}${input.name}`);\n    errorElement.textContent = '';\n    input.classList.remove(this._inputErrorFrameClass);\n  };\n\n  setButtonState(isActive) {\n    if (isActive) {\n      this._buttonElement.removeAttribute('disabled');\n    } else {\n      this._buttonElement.setAttribute('disabled', true);\n    }\n  };\n\n  _preventDefault(evt) {\n    evt.preventDefault();\n  };\n\n  _setEventListeners() {\n    this._form.addEventListener('submit', (evt) => {\n      this.setButtonState(false);\n      this._preventDefault(evt);\n      });\n      this._inputList.forEach((input) => {\n        input.addEventListener('input', () => {\n          this._checkInputValidity(input);\n          if (this._form.checkValidity()) {\n            this.setButtonState(true);\n          } else {\n            this.setButtonState(false);\n          }\n        });\n      });\n  };\n\n  resetValidation() {\n    this.setButtonState(false);\n    this._inputList.forEach((input) => {\n      this._hideInputError(input);\n    });\n  };\n\n  startValidate() {\n    this._setEventListeners();\n  };\n\n};\n\nconst createValidators = (validationConfig, formElement) => {\n  const validator = new FormValidator(validationConfig, formElement);\n  const formName = formElement.getAttribute('name');\n  formValidators[formName] = validator;\n  validator.startValidate();\n}\n\nconst enableValidation = (validationConfig) => {\n  const formList = Array.from(document.querySelectorAll(validationConfig.formSelector))\n  formList.forEach((formElement) => {\n    createValidators(validationConfig, formElement);\n  });\n};\n\nexport { enableValidation, FormValidator }\n","import React from \"react\";\nimport { Link } from 'react-router-dom';\nimport { enableValidation } from \"../utils/FormValidator\";\nimport { registerValidationConfig } from \"../utils/constants\";\n\nconst Register = ({ onRegister }) => {\n  const [emailValue, setEmailValue] = React.useState('');\n  const [passwordValue, setPasswordValue] = React.useState('');\n\n  React.useEffect(() => {\n    enableValidation(registerValidationConfig);\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onRegister(passwordValue, emailValue);\n  };\n\n  const handleEmailChange = (e) => {\n    setEmailValue(e.target.value);\n  };\n\n  const handlePasswordChange = (e) => {\n    setPasswordValue(e.target.value);\n  };\n\n  return (\n    <div className=\"register\">\n      <h1 className=\"register__title\">Регистрация</h1>\n      <form className=\"register__form\" name=\"register\" noValidate onSubmit={handleSubmit}>\n        <div className=\"register__wrapper register__wrapper_type_input\">\n          <input\n            name=\"email\"\n            type=\"email\"\n            placeholder=\"Email\"\n            className=\"register__input register__input_type_email\"\n            required=\"true\"\n            value={emailValue ?? ''}\n            onChange={handleEmailChange}\n          />\n          <span className=\"register__input-error register__input-error_type_email\" />\n        </div>\n        <div className=\"register__wrapper register__wrapper_type_input\">\n          <input\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Пароль\"\n            className=\"register__input register__input_type_password\"\n            minLength={6}\n            required=\"true\"\n            value={passwordValue ?? ''}\n            onChange={handlePasswordChange}\n          />\n          <span className=\"register__input-error register__input-error_type_password\" />\n        </div>\n        <div className=\"register__wrapper register__wrapper_type_button\">\n          <button className=\"register__button\" type=\"submit\">\n            Зарегистрироваться\n          </button>\n          <p className=\"register__caption\">\n            Уже зарегистрированы?\n            <Link to=\"/sign-in\" className=\"register__caption register__link\">\n              {\" \"}\n              Войти\n            </Link>\n          </p>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Register;\n","import React from 'react';\nimport { enableValidation } from \"../utils/FormValidator\";\nimport { registerValidationConfig } from \"../utils/constants\";\n\nconst Login = ({ onLogin }) => {\n\n  const [emailValue, setEmailValue] = React.useState('');\n  const [passwordValue, setPasswordValue] = React.useState('');\n\n  React.useEffect(() => {\n    enableValidation(registerValidationConfig);\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onLogin(passwordValue, emailValue);\n  }\n\n  const handleEmailChange = (e) => {\n    setEmailValue(e.target.value);\n  }\n\n  const handlePasswordChange = (e) => {\n    setPasswordValue(e.target.value);\n  }\n\n  return (\n    <div className='register'>\n      <h1 className='register__title'>Вход</h1>\n      <form className='register__form' name='login' noValidate>\n        <div className=\"register__wrapper register__wrapper_type_input\">\n          <input\n            name=\"email\"\n            type=\"email\"\n            placeholder=\"Email\"\n            className=\"register__input register__input_type_email\"\n            required=\"true\"\n            value={emailValue ?? ''}\n            onChange={handleEmailChange}\n          />\n          <span\n            className=\"register__input-error register__input-error_type_email\"\n          />\n        </div>\n        <div className=\"register__wrapper register__wrapper_type_input\">\n          <input\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Пароль\"\n            className=\"register__input register__input_type_password\"\n            required=\"true\"\n            minLength={6}\n            value={passwordValue ?? ''}\n            onChange={handlePasswordChange}\n          />\n          <span\n            className=\"register__input-error register__input-error_type_password\"\n          />\n        </div>\n        <div className='register__wrapper register__wrapper_type_button'>\n          <button\n            className=\"register__button\"\n            type='submit'\n            onClick={handleSubmit}>\n            Войти\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n","export const BASE_URL = 'https://auth.nomoreparties.co';\n\n\nconst getRequest = (url, options) => {\n  return fetch(url, options)\n    .then((response) => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        return response.json().then((errorData) => {\n          const errorMessage = errorData.message || 'Request failed';\n          const errorWithStatus = new Error(errorMessage);\n          errorWithStatus.status = response.status;\n          throw errorWithStatus;\n        });\n      }\n    })\n};\n\nexport const register = (password, email) => {\n  return getRequest(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({password, email})\n  })\n};\n\nexport const authorize = (password, email) => {\n  return getRequest(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({password, email})\n  })\n};\n\nexport const getContent = (token) => {\n  return getRequest(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    }\n  })\n};\n\n","import React, { useRef, useState, useEffect, useCallback } from 'react';\nimport { Route, Routes, useNavigate } from \"react-router-dom\";\nimport { getToken, removeToken, setToken } from '../utils/token';\nimport '../index.css';\nimport Header from './header';\nimport Main from './main';\nimport Footer from './footer';\nimport ImagePopup from './image-popup';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport CardsContext from '../contexts/CardsContext';\nimport api from '../utils/Api';\nimport EditProfilePopup from './edit-profile-popup';\nimport EditAvatarPopup from './edit-avatar-popup';\nimport AddPlacePopup from './add-place-popup';\nimport DeletePopup from './delete-popup';\nimport InfoToolTip from \"./info-tool-tip\";\nimport ProtectedRoute from './protected-route';\nimport Register from './register';\nimport Login from './login';\nimport * as authApi from '../utils/authApi';\nimport { validationConfig, formValidators } from '../utils/constants';\nimport { enableValidation, FormValidator } from '../utils/FormValidator';\n\nfunction App() {\n  const navigate = useNavigate();\n  const navigateRef = useRef(navigate);\n  const [isEditProfilePopupOpen, setEditProfilePopup] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopup] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopup] = useState(false);\n  const [isDeletePopupOpen, setDeletePopup] = useState(false);\n  const [isImagePopupOpen, setImagePopupOpen] = useState(false);\n  const [isToolTipOpen, setIsToolTipOpen] = useState(false);\n  const [isSucsessed, setIsSucsessed] = useState(false);\n  const [isloggedIn, setIsLoggedIn] = useState(false);\n  const [selectedCard, setSelectedCard] = useState([]);\n  const [selectedDeleteCard, setSelectedDeleteCard] = useState([]);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [userEmail, setUserEmail] = useState('');\n  const [error, setError] = useState({});\n\n  useEffect(() => {\n    if (isloggedIn) {\n      api.getUserInfo()\n        .then((data) => {\n          setCurrentUser(data);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n      api.getInitialCards()\n        .then(data => {\n          setCards(data);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  }, [isloggedIn]);\n\n  const auth = useCallback(async (jwt) => {\n    try {\n      const res = await authApi.getContent(jwt);\n      if (res) {\n        setIsLoggedIn(true);\n        setUserEmail(res.data.email);\n        navigate('/');\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }, [setIsLoggedIn, setUserEmail, navigate]);\n\n  useEffect(() => {\n    const jwt = getToken();\n\n    if (jwt) {\n      auth(jwt);\n    }\n  }, [auth]);\n\n  useEffect(() => {\n    const initialRoute = '/';\n    navigateRef.current(initialRoute);\n  }, []);\n\n  const onRegister = (password, email) => {\n    return authApi.register(password, email).then((res) => {\n      setIsSucsessed(true);\n      setIsToolTipOpen(true);\n      return res;\n    }).catch((error) => {\n      setIsSucsessed(false);\n      setIsToolTipOpen(true);\n      setError(error);\n    })\n  }\n\n  const onLogin = (password, email) => {\n    return authApi.authorize(password, email)\n      .then((data) => {\n        if (data.token) {\n          setToken(data.token);\n          setIsLoggedIn(true);\n          navigate('/');\n          return data;\n        } else {\n          return;\n        }\n      }).catch((error) => {\n        setIsSucsessed(false);\n        setIsToolTipOpen(true);\n        setError(error);\n      })\n  }\n\n  const onSignOut = () => {\n    removeToken();\n    setUserEmail('');\n    setIsLoggedIn(false);\n    navigate('/login');\n  };\n\n  const handleOverlayClick = (e) => {\n    if (e.target === e.currentTarget) {\n      closeAllPopups();\n    };\n  };\n\n  const resetValidationAll = useCallback((formValidators) => {\n    for (const key in formValidators) {\n      if (formValidators.hasOwnProperty(key) && formValidators[key] instanceof FormValidator) {\n        formValidators[key].resetValidation();\n      }\n    }\n  }, []);\n\n  const closeAllPopups = useCallback(() => {\n    setEditAvatarPopup(false);\n    setEditProfilePopup(false);\n    setAddPlacePopup(false);\n    setDeletePopup(false);\n    setIsToolTipOpen(false);\n    setSelectedCard([]);\n    setSelectedDeleteCard([]);\n    resetValidationAll(formValidators);\n    formValidators['delete'].setButtonState(true);\n  },\n    [\n      setEditAvatarPopup,\n      setEditProfilePopup,\n      setAddPlacePopup,\n      setDeletePopup,\n      setSelectedCard,\n      setSelectedDeleteCard,\n      resetValidationAll,\n    ]\n  );\n\n  useEffect(() => {\n    enableValidation(validationConfig);\n    const handleEscKey = (event) => {\n      if (\n        (isEditProfilePopupOpen\n          || isAddPlacePopupOpen\n          || isEditAvatarPopupOpen\n          || isDeletePopupOpen\n          || isImagePopupOpen\n          || isToolTipOpen)\n        && event.key === \"Escape\") {\n        closeAllPopups();\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleEscKey);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleEscKey);\n    };\n\n  },\n    [\n      isEditProfilePopupOpen,\n      isAddPlacePopupOpen,\n      isEditAvatarPopupOpen,\n      isDeletePopupOpen,\n      isImagePopupOpen,\n      isToolTipOpen,\n      closeAllPopups\n    ]\n  );\n\n\n  const handleDeletePopupClick = () => {\n    setDeletePopup(true);\n  };\n\n  const handleEditAvatarClick = () => {\n    setEditAvatarPopup(true);\n  };\n\n  const handleEditProfileClick = () => {\n    setEditProfilePopup(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setAddPlacePopup(true);\n  };\n\n  const handleImagePopupOpen = () => {\n    setImagePopupOpen(true);\n  }\n\n  function showLoader() {\n    setIsLoading(true);\n  }\n\n  function removeLoader() {\n    setIsLoading(false);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.setlike(card._id, !isLiked)\n      .then((newCard) => setCards((state) => state.map((c) => c._id === card._id ? newCard : c)))\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  function handleCardDelete(card) {\n    showLoader()\n\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n        closeAllPopups();\n        formValidators['delete'].setButtonState(true);\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n      .finally(() => {\n        removeLoader()\n      });\n  }\n\n  function handleUpdateAvatar(data) {\n    showLoader()\n\n    api.changeAvatar(data)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n      .finally(() => {\n        removeLoader()\n      });\n  }\n\n  function handleUpdateUser(data) {\n    showLoader();\n\n    api.setUserInfo(data)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n      .finally(() => {\n        removeLoader()\n      });\n  }\n\n  function handleAddCard(data) {\n    showLoader();\n\n    api.createCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n      .finally(() => {\n        removeLoader()\n      });\n  }\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <CardsContext.Provider value={cards}>\n          <div className=\"page__container\">\n            <Header email={userEmail} onSignOut={onSignOut} />\n            <Routes>\n              <Route path='/' element={<ProtectedRoute\n                loggedIn={isloggedIn}\n                element={Main}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onEditAvatar={handleEditAvatarClick}\n                onDeletePopup={handleDeletePopupClick}\n                onSelectDeleteCard={setSelectedDeleteCard}\n                onImageOpen={handleImagePopupOpen}\n                onCardClick={setSelectedCard}\n                onCardLike={handleCardLike}\n              />} />\n              <Route path='/sign-up'\n                element={<Register\n                  onRegister={onRegister}\n                  isSucsessed={isSucsessed}\n                  onClose={closeAllPopups}\n                  isOpen={isToolTipOpen}\n                  onOverlayClick={handleOverlayClick}\n                />} />\n              <Route path='/sign-in'\n                element={<Login\n                  onLogin={onLogin}\n                  onClose={closeAllPopups}\n                  isOpen={isToolTipOpen}\n                  isloggedIn={isloggedIn}\n                  onOverlayClick={handleOverlayClick}\n                />} />\n            </Routes>\n            {isloggedIn && <Footer />}\n          </div>\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n            onLoading={isLoading}\n            onOverlayClick={handleOverlayClick}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddCard={handleAddCard}\n            onLoading={isLoading}\n            onOverlayClick={handleOverlayClick}\n          />\n          <ImagePopup\n            card={selectedCard}\n            onClose={closeAllPopups}\n            onOverlayClick={handleOverlayClick}\n          />\n          <DeletePopup\n            isOpen={isDeletePopupOpen}\n            onClose={closeAllPopups}\n            onDeleteCard={handleCardDelete}\n            card={selectedDeleteCard}\n            onLoading={isLoading}\n            onOverlayClick={handleOverlayClick}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n            onLoading={isLoading}\n            onOverlayClick={handleOverlayClick}\n          />\n          <InfoToolTip\n            isSucsessed={isSucsessed}\n            isOpen={isToolTipOpen}\n            onClose={closeAllPopups}\n            onOverlayClick={handleOverlayClick}\n            error={error}\n          />\n        </CardsContext.Provider>\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","const TOKEN_KEY = 'jwt';\n\nexport const setToken = (token) => {\n  localStorage.setItem(TOKEN_KEY, token);\n}\n\nexport const getToken = () => localStorage.getItem(TOKEN_KEY);\n\nexport const removeToken = () => {\n  localStorage.removeItem(TOKEN_KEY)\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './components/app';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from \"react-router-dom\";\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <BrowserRouter basename={'/'}>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}